# ç»“ä¸¹å¢ƒé¢˜åº“è¯¦è§£

ç»“ä¸¹é˜¶æ®µèšç„¦æ•°æ®ç‚¼ä¸¹æœ¯ï¼šNumPy é˜µåˆ—ã€Pandas ç‚¼ä¸¹ç‚‰ã€æ¸…æ´—ç¥›æ‚ã€å¯è§†åŒ–ç»˜é˜µä¸Žæ•°æ®æŠ¥å‘Šã€‚æœ¬å·æŒ‰éš¾åº¦æ¢¯åº¦æ‹†è§£æ¯é“é¢˜çš„æ ¸å¿ƒåŠ¨ä½œä¸Žå¸¸è§é™·é˜±ã€‚

## éš¾åº¦é˜¶æ¢¯å¯¼èˆª

| éš¾åº¦ | æ ¸å¿ƒå…³é”®è¯ | ä»£è¡¨ç»ƒä¹  |
| --- | --- | --- |
| ðŸŒ± å…¥é—¨ | NumPy | åˆ›å»ºçŸ©é˜µã€å˜å½¢æ•°ç»„ã€ä½¿ç”¨å¸ƒå°”ç´¢å¼• |
| ðŸŒ¿ è¿›é˜¶ | Pandas | æž„é€  DataFrameã€è®¾ç½®ç´¢å¼•ã€ç‰¹å¾æž„é€  |
| ðŸ”¥ çªç ´ | æ•°æ®æ¸…æ´— | ç»Ÿè®¡ç¼ºå¤±ã€å¡«è¡¥ç©ºå€¼ã€å¤„ç†ç¦»ç¾¤ç‚¹ |
| ðŸŒŸ åœ†æ»¡ | å¯è§†åŒ– | ç»˜åˆ¶æŠ˜çº¿ã€ç®±çº¿ã€çƒ­åŠ›ä¸ŽåŒè½´å›¾ |
| ðŸ›¡ï¸ åŒ–ç¥ž | æŠ¥å‘Šè¾“å‡º | ç”Ÿæˆ Markdown/HTML æŠ¥å‘Šï¼Œæ€»ç»“æ´žè§ |

## å®žæˆ˜å»ºè®®

- **ä¸€ä»½æ•°æ®ä¸¤ä»½å‰¯æœ¬**ï¼šä¿ç•™åŽŸå§‹æ•°æ®ï¼Œæ‰€æœ‰æ¸…æ´—æ­¥éª¤åœ¨å‰¯æœ¬ä¸Šè¿›è¡Œï¼Œå¿…è¦æ—¶å¯å¯¹ç…§è¿˜åŽŸã€‚
- **è®°å½•å‡è®¾**ï¼šæ¯æ¬¡æ¸…æ´—æˆ–å¯è§†åŒ–å‰å†™ä¸‹â€œçŒœæµ‹â€ä¸Žâ€œéªŒè¯æ–¹å¼â€ï¼Œç»“æžœä¸Žé¢„æœŸä¸ç¬¦æ—¶æ›´æ˜“å®šä½åŽŸå› ã€‚
- **å–„ç”¨ Notebook**ï¼šåœ¨ Notebook ä¸­ç©¿æ’ Markdown å•å…ƒè®°å½•ç»“è®ºï¼Œæœ€ç»ˆå¯¼å‡ºå³å¯ä½œä¸ºæŠ¥å‘Šåˆç¨¿ã€‚

## çµçŸ³é˜µåˆ— Â· NumPy åŸºç¡€

### é¢˜ç›®å›žé¡¾
1. ðŸŒ± å…¥é—¨ï¼šåˆ›å»º 3Ã—3 å•ä½çŸ©é˜µå¹¶è®¡ç®—è¡Œåˆ—å¼ã€‚
2. ðŸŒ¿ è¿›é˜¶ï¼šå°†ä¸€ç»´æ•°ç»„é‡å¡‘ä¸º 2Ã—6ï¼Œæˆªå–å‰ä¸¤åˆ—ã€‚
3. ðŸ”¥ çªç ´ï¼šæ¼”ç¤ºå¹¿æ’­è§„åˆ™ï¼Œè®¡ç®— `arr + np.array([1, 2, 3])`ã€‚
4. ðŸŒŸ åœ†æ»¡ï¼šä½¿ç”¨å¸ƒå°”ç´¢å¼•ç­›é€‰èƒ½é‡å€¼ > 50 çš„å…ƒç´ ã€‚
5. ðŸ›¡ï¸ åŒ–ç¥žï¼šåŒæ—¶è®¡ç®—å‡å€¼ã€æ–¹å·®ã€æ ‡å‡†å·®å¹¶è§£é‡Šå·®å¼‚ã€‚

### é€é¢˜æ‹†è§£
- **é¢˜ 1**ï¼š`matrix = np.eye(3); det = np.linalg.det(matrix)`ã€‚è¯´æ˜Žå•ä½çŸ©é˜µè¡Œåˆ—å¼æ’ä¸º 1ï¼ŒåŒæ—¶ä½¿ç”¨ `np.linalg.inv` éªŒè¯é€†çŸ©é˜µä»ä¸ºå•ä½ã€‚
- **é¢˜ 2**ï¼š`reshaped = arr.reshape(2, 6)`ï¼›åˆ‡ç‰‡ `reshaped[:, :2]` å–å‰ä¸¤åˆ—ã€‚æé†’ `reshape` éœ€ä¿è¯å…ƒç´ æ•°é‡åŒ¹é…ï¼Œå¦åˆ™ä¼šè§¦å‘ `ValueError`ã€‚
- **é¢˜ 3**ï¼šæ‰“å° `arr.shape` ä¸Ž `(1, 3)` çš„æ•°ç»„å½¢çŠ¶ï¼Œè§£é‡Šè¡Œå‘é‡å¦‚ä½•æ²¿ç€è¡Œå¹¿æ’­ã€‚å»ºè®®å°è¯•åˆ—å‘é‡ `np.array([[1], [2], [3]])` æ„Ÿå—å·®å¼‚ã€‚
- **é¢˜ 4**ï¼š`mask = arr > 50; filtered = arr[mask]`ã€‚å±•ç¤º `mask.sum()` ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„æ•°é‡ï¼Œå¼ºè°ƒå¸ƒå°”æ•°ç»„ä¸ŽåŽŸæ•°ç»„ç­‰é•¿ã€‚
- **é¢˜ 5**ï¼š`mean = arr.mean(); var = arr.var(); std = arr.std()`ï¼›è§£é‡Š `var` æ˜¯æ–¹å·®ã€`std` æ˜¯æ ‡å‡†å·®ã€‚å¯æŒ‡å®š `ddof=1` è®¡ç®—æ— åä¼°è®¡ã€‚

## ä¸¹ç‚‰è°ƒé… Â· Pandas æ•°æ®å¸§

### é¢˜ç›®å›žé¡¾
1. ðŸŒ± å…¥é—¨ï¼šä»Žå­—å…¸åˆ›å»º DataFrameï¼ŒæŸ¥çœ‹å‰å‡ è¡Œä¸ŽåŸºæœ¬ä¿¡æ¯ã€‚
2. ðŸŒ¿ è¿›é˜¶ï¼šè®¾ç½® `id` ä¸ºç´¢å¼•å¹¶æŒ‰ç´¢å¼•æŽ’åºã€‚
3. ðŸ”¥ çªç ´ï¼šé€‰æ‹©å¤šåˆ—å¹¶æ–°å¢žç‰¹å¾åˆ—ï¼Œä¾‹å¦‚åŠŸæ•ˆæ¯”å€¼ã€‚
4. ðŸŒŸ åœ†æ»¡ï¼šä½¿ç”¨ `groupby` ç»Ÿè®¡å„ç±»çµè‰å¹³å‡æ•ˆåŠ›ã€‚
5. ðŸ›¡ï¸ åŒ–ç¥žï¼šåˆå¹¶ä¸¤ä¸ª DataFrameï¼Œå¯¹é½ç¼ºå¤±å¹¶è§£é‡Šè¿žæŽ¥æ–¹å¼ã€‚

### é€é¢˜æ‹†è§£
- **é¢˜ 1**ï¼š`df = pd.DataFrame(data); print(df.head()); print(df.info())`ã€‚è¯´æ˜Ž `info()` èƒ½åŒæ—¶æŸ¥çœ‹åˆ—ç±»åž‹ä¸Žç¼ºå¤±æƒ…å†µã€‚
- **é¢˜ 2**ï¼š`df = df.set_index('id').sort_index()`ï¼›æé†’ç´¢å¼•ä¸å†æ˜¯æ™®é€šåˆ—ï¼Œå¦‚éœ€æ¢å¤å¯ `df.reset_index()`ã€‚
- **é¢˜ 3**ï¼š`subset = df[['mana', 'power']]; df['ratio'] = df['power'] / df['mana']`ã€‚æ³¨æ„é™¤é›¶é£Žé™©ï¼Œå¯ä½¿ç”¨ `df['mana'].replace(0, np.nan)`ã€‚
- **é¢˜ 4**ï¼š`avg = df.groupby('type')['power'].mean().sort_values(ascending=False)`ï¼›å¯é“¾å¼è°ƒç”¨ `.reset_index()` æ–¹ä¾¿å¯è§†åŒ–ã€‚
- **é¢˜ 5**ï¼š`merged = pd.merge(df1, df2, on='id', how='left')`ï¼›è§£é‡Š `how` å‚æ•°ï¼ˆinner/outer/left/rightï¼‰ï¼Œè§‚å¯Ÿåˆå¹¶åŽç¼ºå¤±å€¼ï¼Œç”¨ `fillna` å¤„ç†ã€‚

## æ‚è´¨ç¥›é™¤ Â· æ•°æ®æ¸…æ´—

### é¢˜ç›®å›žé¡¾
1. ðŸŒ± å…¥é—¨ï¼šç»Ÿè®¡æ¯åˆ—ç¼ºå¤±æ¯”ä¾‹å¹¶è¾“å‡ºæ ¼å¼åŒ–ç»“æžœã€‚
2. ðŸŒ¿ è¿›é˜¶ï¼šä½¿ç”¨ `fillna` æˆ– `interpolate` å¡«è¡¥ä¸åŒç±»åž‹çš„ç¼ºå¤±ã€‚
3. ðŸ”¥ çªç ´ï¼šåŸºäºŽ IQR è§„åˆ™è¿‡æ»¤å¼‚å¸¸å€¼ï¼Œå¹¶ç»Ÿè®¡å‰©ä½™æ•°é‡ã€‚
4. ðŸŒŸ åœ†æ»¡ï¼šç»Ÿä¸€å­—ç¬¦ä¸²åˆ—å¤§å°å†™ã€åŽ»é™¤ç©ºç™½ä¸Žç‰¹æ®Šå­—ç¬¦ã€‚
5. ðŸ›¡ï¸ åŒ–ç¥žï¼šå°è£…æ•°æ®æ¸…æ´—å‡½æ•°ï¼Œè‡ªåŠ¨è®°å½•æ“ä½œæ—¥å¿—ã€‚

### é€é¢˜æ‹†è§£
- **é¢˜ 1**ï¼š`missing = df.isna().mean().mul(100).round(2)`ï¼›ä½¿ç”¨ `to_frame('missing_ratio')` è½¬æˆè¡¨æ ¼å¹¶è¾“å‡º `to_markdown()`ã€‚
- **é¢˜ 2**ï¼šå¯¹æ•°å€¼åˆ— `df['mana'].fillna(df['mana'].mean(), inplace=True)`ï¼›å¯¹æ—¶é—´åºåˆ— `df['power'].interpolate(method='time')`ã€‚æé†’åœ¨å¡«è¡¥å‰å¤åˆ¶æ•°æ®ä»¥å…æ±¡æŸ“åŽŸå§‹æ•°æ®ã€‚
- **é¢˜ 3**ï¼šè®¡ç®— `Q1 = df['mana'].quantile(0.25)`ã€`Q3 = df['mana'].quantile(0.75)`ï¼ŒIQR = `Q3 - Q1`ï¼Œè¿‡æ»¤ `df[(df['mana'] >= Q1 - 1.5*IQR) & (df['mana'] <= Q3 + 1.5*IQR)]`ã€‚
- **é¢˜ 4**ï¼š`df['herb'] = df['herb'].str.strip().str.title().str.replace(r'[^\w\s]', '', regex=True)`ï¼›è¯´æ˜Ž `.str` æ–¹æ³•å¯é“¾å¼è°ƒç”¨ï¼Œæ­£åˆ™ç”¨äºŽæ¸…ç†ç¬¦å·ã€‚
- **é¢˜ 5**ï¼šå°è£… `def clean_dataset(df): steps = []; ...; steps.append("å¡«è¡¥ mana å‡å€¼"); return cleaned_df, steps`ã€‚å°†æ­¥éª¤å†™å…¥æ—¥å¿—æ–‡ä»¶æˆ–è¿”å›žåˆ—è¡¨ã€‚

## çµç«ç»˜é˜µ Â· å¯è§†åŒ–

### é¢˜ç›®å›žé¡¾
1. ðŸŒ± å…¥é—¨ï¼šä½¿ç”¨ Matplotlib ç»˜åˆ¶ä¿®ä¸ºéšæ—¶é—´çš„æŠ˜çº¿å›¾ã€‚
2. ðŸŒ¿ è¿›é˜¶ï¼šç»˜åˆ¶å¤šç±»åˆ«çµè‰åŠŸæ•ˆç®±çº¿å›¾ï¼Œæ¯”è¾ƒåˆ†å¸ƒã€‚
3. ðŸ”¥ çªç ´ï¼šåˆ›å»ºç›¸å…³æ€§çƒ­åŠ›å›¾ï¼Œæ ‡æ³¨æ•°å€¼å¹¶è°ƒæ•´è‰²ç³»ã€‚
4. ðŸŒŸ åœ†æ»¡ï¼šåˆ¶ä½œåŒè½´å›¾å±•ç¤ºæˆæœ¬ä¸Žæ”¶ç›Šéšæ—¶é—´å˜åŒ–ã€‚
5. ðŸ›¡ï¸ åŒ–ç¥žï¼šåˆ†åˆ«å¯¼å‡º PNG ä¸Ž SVG å›¾åƒï¼ŒæŽ§åˆ¶å°ºå¯¸ä¸Ž DPIã€‚

### é€é¢˜æ‹†è§£
- **é¢˜ 1**ï¼š`plt.plot(days, power, marker='o'); plt.xlabel('ä¿®ç‚¼æ—¥'); plt.ylabel('çµåŠ›'); plt.title('ä¿®ä¸ºèµ°åŠ¿')`ã€‚æ·»åŠ  `plt.grid(True)` æå‡å¯è¯»æ€§ã€‚
- **é¢˜ 2**ï¼š`sns.boxplot(x='type', y='power', data=df)`ï¼›æ·»åŠ  `sns.stripplot` å±•ç¤ºæ•°æ®ç‚¹ã€‚è¯´æ˜Žç®±çº¿å›¾å››åˆ†ä½å«ä¹‰ã€‚
- **é¢˜ 3**ï¼š`sns.heatmap(df.corr(), annot=True, cmap='YlGnBu', fmt='.2f')`ï¼›å»ºè®®è®¾ç½® `mask=np.triu(np.ones_like(corr, dtype=bool))` ä»…å±•ç¤ºä¸‹ä¸‰è§’ã€‚
- **é¢˜ 4**ï¼š`fig, ax1 = plt.subplots(); ax2 = ax1.twinx(); ax1.plot(days, cost, color='tab:red'); ax2.plot(days, revenue, color='tab:blue')`ã€‚æ³¨æ„æ·»åŠ å›¾ä¾‹å’Œè½´æ ‡ç­¾ã€‚
- **é¢˜ 5**ï¼š`plt.savefig('trend.png', dpi=300); plt.savefig('trend.svg', format='svg')`ã€‚è§£é‡ŠçŸ¢é‡å›¾ï¼ˆSVGï¼‰ä¸Žä½å›¾ï¼ˆPNGï¼‰çš„é€‚ç”¨åœºæ™¯ã€‚

## ä¸¹æ–¹è¯„ä¼° Â· æ•°æ®æŠ¥å‘Š

### é¢˜ç›®å›žé¡¾
1. ðŸŒ± å…¥é—¨ï¼šè°ƒç”¨ `describe` è¾“å‡ºæè¿°ç»Ÿè®¡ï¼Œå¹¶è½¬ä¸º Markdown è¡¨æ ¼ã€‚
2. ðŸŒ¿ è¿›é˜¶ï¼šç¼–å†™ `profile_data(df)` è¿”å›žç¼ºå¤±çŽ‡ã€å”¯ä¸€å€¼æ•°é‡ä¸Žåˆ—ç±»åž‹ã€‚
3. ðŸ”¥ çªç ´ï¼šç”Ÿæˆ `pandas-profiling` æŠ¥å‘Šï¼Œä¿å­˜ä¸º HTMLã€‚
4. ðŸŒŸ åœ†æ»¡ï¼šæ¯”è¾ƒæ¸…æ´—å‰åŽ DataFrame çš„å·®å¼‚ï¼Œå†™å…¥æ—¥å¿—ã€‚
5. ðŸ›¡ï¸ åŒ–ç¥žï¼šæ’°å†™æ•°æ®é£Žé™©ç»¼è¿°ï¼Œæå‡ºä¸‹ä¸€æ­¥é‡‡é›†ä¸Žå»ºæ¨¡å»ºè®®ã€‚

### é€é¢˜æ‹†è§£
- **é¢˜ 1**ï¼š`df.describe().transpose().to_markdown()`ï¼›è¯´æ˜Ž `transpose` å¯ä»¥è®©æŒ‡æ ‡ä½œä¸ºåˆ—ï¼Œæ›´æ˜“é˜…è¯»ã€‚
- **é¢˜ 2**ï¼š`def profile_data(df): return pd.DataFrame({'dtype': df.dtypes, 'missing': df.isna().sum(), 'unique': df.nunique()})`ï¼›å¯è®¡ç®—å æ¯”å­—æ®µã€‚
- **é¢˜ 3**ï¼š`from ydata_profiling import ProfileReport; report = ProfileReport(df, minimal=True); report.to_file('profile.html')`ï¼›æé†’å¤§æ•°æ®é›†éœ€è®¾ç½® `minimal=True`ã€‚
- **é¢˜ 4**ï¼š`diff = df_raw.compare(df_clean)`ï¼›å°† `diff` è¾“å‡ºåˆ° `diff.to_csv('clean_diff.csv')`ã€‚è¯´æ˜Ž `compare` ä¼šåˆ—å‡ºä¸¤ä¸ª DataFrame ä¸åŒçš„å•å…ƒæ ¼ã€‚
- **é¢˜ 5**ï¼šä»Žæ•°æ®ç¼ºå¤±ã€å¼‚å¸¸å€¼ã€ç±»åˆ«ä¸å¹³è¡¡ã€æ—¶é—´æ¼‚ç§»ç­‰è§’åº¦æ’°å†™æ€»ç»“ã€‚æä¾›æŽ¨èè¡ŒåŠ¨ï¼Œä¾‹å¦‚â€œè¡¥å……é‡‡é›† 2020 å¹´ä¹‹å‰çš„æ•°æ®ä»¥å‡å°‘æ¼‚ç§»â€ã€‚
